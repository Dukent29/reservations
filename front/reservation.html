<!DOCTYPE html>
<html lang="fr" class="hotel-app">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kotan Voyages — Hotel Search (Sandbox)</title>
  <link rel="stylesheet" href="public/style.css" />
</head>
<body>
<div id="top-progress-bar"></div>
<div class="app-shell">

<header class="app-header">
  <div class="brand">
    <p class="eyebrow">Kotan Voyages · RateHawk sandbox</p>
    <h1>
      Console hôtelière B2B
      <span class="badge">interne</span>
    </h1>
    <p class="sub">Recherchez, consultez les détails et gérez les réservations dans un seul espace.</p>
  </div>
  <div class="header-actions">
    <label class="language-switch" for="language">
      <span>Langue</span>
      <select id="language">
        <option value="fr" selected>Français</option>
        <option value="en">English</option>
      </select>
    </label>
  </div>
</header>

<main class="workspace">
  <section class="hero" aria-label="Destination highlight">
    <div class="hero__bg hero__bg--1"></div>
    <div class="hero__bg hero__bg--2"></div>
    <div class="hero__bg hero__bg--3"></div>
    <div class="hero__bg hero__bg--4"></div>
    <div class="hero__bg hero__bg--5"></div>
    <div class="hero__bg hero__bg--6"></div>
    <div class="hero__content">
      <p class="hero__eyebrow">Kotan Voyages</p>
      <h2 class="hero__title">Découvrez la magie de chaque destination.</h2>
      <p class="hero__subtitle">Trouvez rapidement l&apos;hébergement idéal pour vos clients, partout dans le monde.</p>

      <div class="hero__search-shell">
        <div class="search-shell full">
          <section class="card searchbar">
        <div class="search-grid">
          <div class="field field--suggestions" data-suggestions-root>
            <label for="region_id">Destination</label>
            <input
              id="region_id"
              type="text"
              placeholder="Essayez Paris, Rome, Dubaï..."
              autocomplete="off"
              aria-describedby="destinationHelp regionStatus"
              aria-haspopup="listbox"
              aria-expanded="false"
            />
            <small id="destinationHelp" class="muted" style="font-size:.7rem;">Saisissez une ville ou une région ETG&nbsp;; l’autocomplétion vous aidera.</small>
            <small id="regionStatus" class="muted" style="font-size:.7rem;"></small>
            <div id="suggestionsDropdown" class="suggestions-dropdown hidden" role="listbox" aria-label="Destination suggestions"></div>
          </div>
          <div class="field">
            <label for="dateRange">Séjour</label>
            <div class="date-range-wrapper">
              <input
                id="dateRange"
                type="text"
                placeholder="Choisissez les dates"
                autocomplete="off"
                readonly
              />
              <input id="checkin" type="hidden" />
              <input id="checkout" type="hidden" />
            </div>
          </div>
          <div class="field compact" style="position:relative;">
            <label for="guestsSummary">Voyageurs</label>
            <button id="btnGuests" class="secondary" style="text-align:left;">
              <span id="guestsSummary">2 adultes · 0 enfant</span>
            </button>
          </div>
          <div class="field action">
            <label>&nbsp;</label>
            <button id="btnSearch" class="primary">Rechercher</button>
          </div>
        </div>

        <details class="extras">
          <summary>Recherche avancée</summary>
          <div class="extras-grid">
            <div class="field">
              <label>Mode de recherche</label>
              <div class="radio-row">
                <label><input type="radio" name="mode" value="region" checked /> Région</label>
                <label><input type="radio" name="mode" value="geo" /> Géo (lat/lon)</label>
              </div>
            </div>
            <div class="field" id="regionBlock">
              <small style="color:#94a3b8;font-size:.7rem;">Utilise le champ region_id ci‑dessus</small>
            </div>
            <div class="field" id="geoBlock" style="display:none;">
              <div class="geo-grid">
                <div>
                  <label for="latitude">Latitude</label>
                  <input id="latitude" type="number" step="0.000001" placeholder="48.8566" />
                </div>
                <div>
                  <label for="longitude">Longitude</label>
                  <input id="longitude" type="number" step="0.000001" placeholder="2.3522" />
                </div>
                <div>
                  <label for="radius">Rayon (m)</label>
                  <input id="radius" type="number" min="100" max="5000" value="1500" />
                </div>
              </div>
            </div>
          </div>
        </details>
          </section>
        </div>
      </div>
    </div>
  </section>

  <!-- FILTERS UI IN SEPARATE CARD -->
    <section class="card filters-card">
      <h3>Affiner les résultats</h3>
      <div class="filters">
        <div class="filter-group">
          <p class="filter-title">Catégorie</p>
          <div class="filter-options">
            <label><input type="checkbox" class="flt-stars" value="2"> 2★</label>
            <label><input type="checkbox" class="flt-stars" value="3"> 3★</label>
            <label><input type="checkbox" class="flt-stars" value="4"> 4★</label>
            <label><input type="checkbox" class="flt-stars" value="5"> 5★</label>
          </div>
        </div>

        <div class="filter-group">
          <p class="filter-title">Régime</p>
          <div class="filter-options">
            <label class="meal-chip">
              <input type="checkbox" class="flt-meal" value="nomeal">
              <span class="meal-chip__code">RO</span>
              <span class="meal-chip__underline"></span>
              <span class="info-icon" title="RO — Room only : hébergement seul, sans repas.">i</span>
            </label>
            <label class="meal-chip">
              <input type="checkbox" class="flt-meal" value="breakfast">
              <span class="meal-chip__code">BB</span>
              <span class="meal-chip__underline"></span>
              <span class="info-icon" title="BB — Bed &amp; Breakfast : petit-déjeuner inclus.">i</span>
            </label>
            <label class="meal-chip">
              <input type="checkbox" class="flt-meal" value="half_board">
              <span class="meal-chip__code">HB</span>
              <span class="meal-chip__underline"></span>
              <span class="info-icon" title="HB — Half board : petit-déjeuner et dîner (ou déjeuner) inclus.">i</span>
            </label>
            <label class="meal-chip">
              <input type="checkbox" class="flt-meal" value="full_board">
              <span class="meal-chip__code">FB</span>
              <span class="meal-chip__underline"></span>
              <span class="info-icon" title="FB — Full board : petit-déjeuner, déjeuner et dîner inclus.">i</span>
            </label>
            <label class="meal-chip">
              <input type="checkbox" class="flt-meal" value="all_inclusive">
              <span class="meal-chip__code">AI</span>
              <span class="meal-chip__underline"></span>
              <span class="info-icon" title="AI — All inclusive : repas, snacks et souvent boissons inclus.">i</span>
            </label>
          </div>
        </div>

        <div class="filter-group">
          <p class="filter-title">Politiques</p>
          <label class="checkbox-inline">
            <input type="checkbox" id="flt_free_cancel"> Uniquement annulation gratuite
          </label>
        </div>
      </div>
    </section>
  </div>

  <section class="workspace__content">
    <div class="results-grid">
      <div class="card results-card">
        <h3>
          Résultats de recherche
          <span id="searchMeta" style="color:#64748b;font-size:.7rem;font-weight:400;"></span>
        </h3>
        <div id="hotelsContainer" class="hotel-list">
          <div style="font-size:.7rem;color:#64748b;">Aucun résultat pour l’instant. Lancez une recherche.</div>
        </div>
        <div id="resultsPagination" class="pagination" style="display:none;">
          <button id="btnResultsPrev" class="secondary mini" type="button">Précédent</button>
          <span id="resultsPaginationLabel">Page 1 / 1</span>
          <button id="btnResultsNext" class="secondary mini" type="button">Suivant</button>
        </div>
      </div>

      <div class="card details-card">
        <h3>
          <span id="hotelDetailHeaderTitle">Détails de l’hôtel & tarifs</span>
          <span id="hotelDetailHeaderHint" style="color:#64748b;font-size:.7rem;font-weight:400;">sélectionnez un hôtel</span>
        </h3>
        <div id="hotelDetails">
          <div id="hotelDetailsPlaceholder" style="font-size:.7rem;color:#64748b;">Aucun hôtel sélectionné.</div>
        </div>
      </div>
    </div>

  </section>
</main>

</div>

<!-- Guests small modal -->
<div id="guestModal" class="modal hidden" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal__backdrop"></div>
  <div class="modal__dialog" style="width:min(360px,92vw)">
    <div class="modal__header">
      <div class="modal__title">Voyageurs</div>
      <button id="guestClose" class="secondary mini" aria-label="Fermer">✕</button>
    </div>
    <div class="modal__body" style="gap:1rem;">
      <div>
        <label style="font-size:.75rem;color:#cbd5e1;">Adultes</label>
        <div class="counter">
          <button type="button" id="adultDec">−</button>
          <div class="value" id="adultValue">2</div>
          <button type="button" id="adultInc">+</button>
        </div>
      </div>
      <div>
        <label style="font-size:.75rem;color:#cbd5e1;">Enfants</label>
        <input id="childrenCount" type="number" min="0" max="8" value="0" />
        <div id="childAges" class="ages-grid" style="margin-top:.5rem;"></div>
        <small class="muted">Âges de 0 à 17 ans lorsque des enfants sont présents.</small>
      </div>
    </div>
    <div class="modal__footer">
      <button id="guestsDoneModal" class="primary">Valider</button>
    </div>
  </div>
</div>

<!-- Date range modal -->
<div id="dateModal" class="modal hidden" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal__backdrop"></div>
  <div class="modal__dialog" style="width:min(360px,92vw)">
    <div class="modal__header">
      <div class="modal__title">Séjour</div>
      <button id="dateModalClose" class="secondary mini" aria-label="Fermer">✕</button>
    </div>
    <div class="modal__body" style="gap:1rem;">
      <div id="dateCalendar" class="date-calendar" aria-label="Sélection de la période"></div>
    </div>
    <div class="modal__footer">
      <button id="dateModalApply" class="primary">Valider</button>
    </div>
  </div>
</div>

<script src="reservation.js" type="module"></script>
</body>
</html>
